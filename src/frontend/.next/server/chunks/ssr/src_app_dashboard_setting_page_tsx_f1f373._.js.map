{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/l03542515/Desktop/visioncityv1/src/frontend/src/app/dashboard/setting/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { BarChart } from '@/components/charts/BarChart';\nimport { LineChart } from '@/components/charts/LineChart';\nimport { PieChart } from '@/components/charts/PieChart';\nimport { Calendar } from '@/components/filters/Calendar';\nimport HeatMap from '@/components/charts/HeatMap';\nimport RangeSlider from '@/components/filters/RangeSlider'; // New component\n\nconst API_URL = \"http://localhost:5000/available-dates\"; // Flask API\n\nexport default function DashboardPage() {\n  const getTodayDate = () => {\n    const today = new Date();\n    return today.toISOString().split(\"T\")[0]; // Always format as YYYY-MM-DD\n  };\n\n  const [selectedDate, setSelectedDate] = useState<string>(getTodayDate());\n  const [availableDates, setAvailableDates] = useState<string[]>([]);\n  const [timeRange, setTimeRange] = useState<[number, number]>([12, 16]); // âœ… Default 12:00 - 16:00\n\n  useEffect(() => {\n    fetch(API_URL)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.available_dates.length > 0) {\n          const firstAvailableDate = data.available_dates.includes(getTodayDate())\n            ? getTodayDate()\n            : data.available_dates[0];\n\n          setAvailableDates(data.available_dates);\n          setSelectedDate(firstAvailableDate);\n        }\n      })\n      .catch((err) => console.error(\"Error fetching available dates:\", err));\n  }, []);\n\n  const handleDateChange = (date: string) => {\n    if (availableDates.includes(date)) {\n      setSelectedDate(date);\n    }\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <h1 className=\"text-2xl font-bold mb-6\">Dashboard</h1>\n\n      <div className=\"bg-white p-4 rounded-lg shadow\">\n        <h2 className=\"text-lg font-semibold mb-4\">Analytics</h2>\n        <div className=\"flex flex-wrap justify-between gap-4\">\n          <div className=\"flex-1 min-w-[250px]\"><BarChart /></div>\n          <div className=\"flex-1 min-w-[250px]\"><LineChart /></div>\n          <div className=\"flex-1 min-w-[250px]\"><PieChart /></div>\n        </div>\n      </div>\n\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6\">\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <h2 className=\"text-lg font-semibold mb-4\">Filter</h2>\n          <Calendar selectedDate={selectedDate} onChange={handleDateChange} disabledDates={availableDates} />\n          <RangeSlider value={timeRange} onChange={setTimeRange} />\n        </div>\n\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <h2 className=\"text-lg font-semibold mb-4\">Map</h2>\n          <HeatMap selectedDate={selectedDate} timeRange={timeRange} />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAFA;;;;;;;;;AAUA,MAAM,UAAU,yCAAyC,YAAY;AAEtD,SAAS;IACtB,MAAM,eAAe;QACnB,MAAM,QAAQ,IAAI;QAClB,OAAO,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,8BAA8B;IAC1E;IAEA,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IACzD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoB;QAAC;QAAI;KAAG,GAAG,0BAA0B;IAElG,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,SACH,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC;YACL,IAAI,KAAK,eAAe,CAAC,MAAM,GAAG,GAAG;gBACnC,MAAM,qBAAqB,KAAK,eAAe,CAAC,QAAQ,CAAC,kBACrD,iBACA,KAAK,eAAe,CAAC,EAAE;gBAE3B,kBAAkB,KAAK,eAAe;gBACtC,gBAAgB;YAClB;QACF,GACC,KAAK,CAAC,CAAC,MAAQ,QAAQ,KAAK,CAAC,mCAAmC;IACrE,GAAG,EAAE;IAEL,MAAM,mBAAmB,CAAC;QACxB,IAAI,eAAe,QAAQ,CAAC,OAAO;YACjC,gBAAgB;QAClB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAuB,cAAA,8OAAC;;;;;;;;;;0CACvC,8OAAC;gCAAI,WAAU;0CAAuB,cAAA,8OAAC;;;;;;;;;;0CACvC,8OAAC;gCAAI,WAAU;0CAAuB,cAAA,8OAAC;;;;;;;;;;;;;;;;;;;;;;0BAK3C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAS,cAAc;gCAAc,UAAU;gCAAkB,eAAe;;;;;;0CACjF,8OAAC;gCAAY,OAAO;gCAAW,UAAU;;;;;;;;;;;;kCAG3C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAQ,cAAc;gCAAc,WAAW;;;;;;;;;;;;;;;;;;;;;;;;AAK1D"}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}